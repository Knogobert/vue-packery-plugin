'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _vue=require('vue'),_vue2=_interopRequireDefault(_vue),_packery=require('packery'),_packery2=_interopRequireDefault(_packery);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var ADD='itemAdded',CHANGE='itemChange',REMOVE='itemRemoved',packeryEvents=new _vue2.default({}),packeryPlugin=function(){};exports.default=packeryPlugin,packeryPlugin.install=function(a){a.directive('packery',{bind:function bind(c,d){var e=null;c.packery=new _packery2.default(c,d.value);var f=function(h){c.packery&&c.isSameNode(h)&&a.nextTick(function(){c.packery.reloadItems(),c.packery.layout()})},g=function(h){clearTimeout(e),e=setTimeout(function(){f(h)},1)};packeryEvents.$on(ADD,function(h){g(h)}),packeryEvents.$on(CHANGE,function(h){g(h)}),packeryEvents.$on(REMOVE,function(h){g(h)})},unbind:function unbind(c){var d=setInterval(function(){document.contains(c)||(c.packery.destroy(),c.packery=null,clearTimeout(d))},1e3)}}),a.directive('packeryItem',{inserted:function inserted(c){c.packeryNode=c.parentNode,packeryEvents.$emit(ADD,c.packeryNode)},componentUpdated:function componentUpdated(c){packeryEvents.$emit(CHANGE,c.packeryNode)},unbind:function unbind(c){packeryEvents.$emit(REMOVE,c.packeryNode)}})};
